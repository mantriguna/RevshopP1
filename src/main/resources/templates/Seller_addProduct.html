<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>RevShop</title>
    <link rel="stylesheet" href="../CSS/Seller_Main.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
    <script>
        function addColorInput() {
            const colorContainer = document.getElementById('colorInputs');
            const newColorInput = document.createElement('input');
            newColorInput.type = 'text';
            newColorInput.name = 'colors';
            newColorInput.className = 'form-control mt-2';
            newColorInput.placeholder = 'Enter Color';
            colorContainer.appendChild(newColorInput);
        }

        function addImageInput() {
            const imageContainer = document.getElementById('imageInputs');
            const newImageInput = document.createElement('input');
            newImageInput.type = 'url';
            newImageInput.name = 'imageUrls';
            newImageInput.className = 'form-control mt-2';
            newImageInput.placeholder = 'Enter Image URL';
            imageContainer.appendChild(newImageInput);
        }
    </script>
</head>
<body>
    <!-- Include Navigation Bar -->


    <div class="container mt-5">
        <h2>Add New Product</h2>
        <hr>

        <form action="@{/RevShop_New/SellerAddProductServlet}" method="post">
            <!-- Fetching Categories from Database for Dropdown -->
            <div class="mb-3">
                <label for="category_id" class="form-label">Category</label>
                <select class="form-select" id="category_id" name="category_id" required>
                    <option value="">Select Category</option>
                    <th:block th:each="category : ${categories}">
                        <option th:value="${category.categoryId}" th:text="${category.categoryName}"></option>
                    </th:block>
                </select>
            </div>
            <input type="hidden" name="seller_id" th:value="${seller.sellerId}">
            <div class="mb-3">
                <label for="product_name" class="form-label">Product Name</label>
                <input type="text" class="form-control" id="product_name" name="product_name" required>
            </div>
            <div class="mb-3">
                <label for="description" class="form-label">Description</label>
                <textarea class="form-control" id="description" name="description" rows="3" required></textarea>
            </div>
            <div class="mb-3">
                <label for="price" class="form-label">Price</label>
                <input type="number" step="0.01" class="form-control" id="price" name="price" required>
            </div>
            <div class="mb-3">
                <label for="stock_quantity" class="form-label">Stock Quantity</label>
                <input type="number" class="form-control" id="stock_quantity" name="stock_quantity" required>
            </div>

            <!-- Section for Multiple Image URLs -->
            <div class="mb-3" id="imageInputs">
                <label for="image_url" class="form-label">Image URLs</label>
                <input type="url" class="form-control" name="imageUrls" placeholder="Enter Image URL" required>
                <button type="button" class="btn btn-secondary mt-2" onclick="addImageInput()">Add Another Image URL</button>
            </div>

            <!-- Section for Multiple Colors -->
            <div class="mb-3" id="colorInputs">
                <label for="colors" class="form-label">Colors</label>
                <input type="text" class="form-control" name="colors" placeholder="Enter Color" required>
                <button type="button" class="btn btn-secondary mt-2" onclick="addColorInput()">Add Another Color</button>
            </div>

            <div class="mb-3">
                <label for="threshold" class="form-label">Threshold (Minimum Stock Level)</label>
                <input type="number" class="form-control" id="threshold" name="threshold" required>
            </div>
            <div class="mb-3">
                <label for="max_discount" class="form-label">Max Discount</label>
                <input type="number" step="0.01" class="form-control" id="max_discount" name="max_discount" required>
            </div>
            <button type="submit" class="btn btn-primary">Add Product</button>
        </form>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
